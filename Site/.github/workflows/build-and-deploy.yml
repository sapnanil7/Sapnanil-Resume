name: Build and Deploy Resume


on:
push:
branches: [ main ]
workflow_dispatch: {}


permissions:
contents: read
pages: write
id-token: write


concurrency:
group: "pages"
cancel-in-progress: true


jobs:
build:
runs-on: ubuntu-latest
steps:
- name: Checkout
uses: actions/checkout@v4


- name: Compile LaTeX to PDF
uses: xu-cheng/latex-action@v3
with:
root_file: Sapnanil_Resume_LaTeX_Overleaf_Ready.tex
latexmk_use_xelatex: false
# Set to true if you later add fonts/Unicode heavy content
# latexmk_use_lualatex: false


- name: Copy PDF to site/
run: |
mkdir -p site
cp "${{ github.workspace }}/Sapnanil_Resume_LaTeX_Overleaf_Ready.pdf" site/resume.pdf


- name: Upload Pages artifact
uses: actions/upload-pages-artifact@v3
with:
path: site


deploy:
needs: build
runs-on: ubuntu-latest
environment:
name: github-pages
url: ${{ steps.deployment.outputs.page_url }}
steps:
- name: Deploy to GitHub Pages
id: deployment
uses: actions/deploy-pages@v4